#!/usr/bin/env node
/*
# Usage: homework fetch, f
# Summary: Fetches the next available assignment
# Help: Fetches the next available assignment
*/

/*
$ homework fetch
  New: 2 assignments
  Surf and Paddle /Users/jacobsmith/Code/...
  30 jQuery animations /Users/...
  unchanged: 4, updated: 0, new: 2

$ homework fetch
  unchanged: 6, updated: 0, new: 0
*/

var inquirer = require('inquirer');
var backend = require(process.env._HOMEWORK_ROOT + '/lib/backend');
var cdir = require('cdir');

var loader = [
  "/ Fetching",
  "| Fetching",
  "\\ Fetching",
  "- Fetching"
];
var i = 4;
var ui = new inquirer.ui.BottomBar({ bottomBar: loader[i % 4] });

setInterval(function() {
  ui.updateBottomBar( loader[i++ % 4] );
}, 300 );

setTimeout(function(){
  ui.updateBottomBar("");
  process.exit();
}, 1200);
